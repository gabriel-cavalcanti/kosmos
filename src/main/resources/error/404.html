<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Erro 404 - Kosmos</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Nunito', sans-serif; }
  html, body { width: 100%; height: 100%; overflow: hidden; background: #f2e7f7; position: relative; }

  .draggable { position: absolute; cursor: grab; user-select: none; }

  #title { top: 50px; left: 50%; transform: translateX(-50%); font-size: 4rem; color: #6a5acd; }
  #message { top: 150px; left: 50%; transform: translateX(-50%); font-size: 1.5rem; color: #444; }

  .cat, .obj { width: 150px; height: auto; border-radius: 15px; position: absolute; cursor: grab; transition: transform 0.2s; }

  #cat1 { top: 300px; left: 50px; }
  #cat2 { top: 300px; right: 50px; }
  .obj1 { top: 400px; left: 300px; }
  .obj2 { top: 500px; left: 500px; }

  #tools { position: fixed; bottom: 20px; right: 20px; display: flex; gap: 10px; z-index: 1000; }
  .pincel { width: 50px; height: 50px; border-radius: 50%; cursor: pointer; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold; font-size: 1.2rem; user-select: none; border: 2px solid transparent; }

  .splash {
    position: absolute;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    pointer-events: none;
    animation: fadeout 2s forwards;
  }
  @keyframes fadeout {
    0% {opacity: 1;}
    100% {opacity: 0; transform: scale(2);}
  }

  #canvas {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 500;
  }

  #redirectBtn {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 15px 25px;
    font-size: 1.2rem;
    border: none;
    border-radius: 10px;
    background: #6a5acd;
    color: white;
    cursor: pointer;
    z-index: 1001;
    transition: background 0.3s;
  }
  #redirectBtn:hover { background: #5043a4; }

  [contenteditable] {
    outline: 2px dashed #aaa;
    padding: 2px 5px;
    border-radius: 5px;
  }
</style>
</head>
<body>

<h1 id="title" class="draggable" contenteditable="true">Erro 404</h1>
<p id="message" class="draggable" contenteditable="true">P√°gina n√£o encontrada!</p>

<button id="redirectBtn">Voltar para Home</button>

<img src="../error/imagesError/arco.png" id="cat1" class="cat draggable">
<img src="../error/imagesError/pintura.png" id="cat2" class="cat draggable">
<img src="../error/imagesError/gatinBlack.jpeg" class="obj obj1 draggable">
<img src="../error/imagesError/gatinOrange.png" class="obj obj2 draggable">

<div id="tools">
  <div class="pincel" style="background:#ff4da6;" data-tool="splash">üé®</div>
  <div class="pincel" style="background:#4da6ff;" data-tool="pen">‚úèÔ∏è</div>
  <div class="pincel" style="background:#a6ff4d;" data-tool="pencil">üñäÔ∏è</div>
  <div class="pincel" style="background:#ffd24d;" data-tool="eraser">ü©π</div>
</div>

<canvas id="canvas"></canvas>

<script>
  document.getElementById('redirectBtn').addEventListener('click', () => {
    window.location.href = '../home/index.html';
  });

 const draggables = document.querySelectorAll('.draggable');
  draggables.forEach(el => {
    el.addEventListener('mousedown', (e) => {
      let shiftX = e.clientX - el.getBoundingClientRect().left;
      let shiftY = e.clientY - el.getBoundingClientRect().top;

      function moveAt(pageX, pageY) {
        el.style.left = pageX - shiftX + 'px';
        el.style.top = pageY - shiftY + 'px';
      }

      function onMouseMove(e) { moveAt(e.pageX, e.pageY); }

      document.addEventListener('mousemove', onMouseMove);

      document.addEventListener('mouseup', function handler() {
        document.removeEventListener('mousemove', onMouseMove);
        document.removeEventListener('mouseup', handler);
      });
    });
    el.ondragstart = () => false;
  });

  let activeTool = null;
  const brushes = document.querySelectorAll('.pincel');
  brushes.forEach(brush => {
    brush.addEventListener('click', () => {
      activeTool = brush.dataset.tool;
      brushes.forEach(b => b.style.border = '2px solid transparent');
      brush.style.border = '3px solid black';
      canvas.style.pointerEvents = (activeTool === 'splash') ? 'none' : 'auto';
    });
  });

  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  let drawing = false;
  let lastX = 0, lastY = 0;

  canvas.addEventListener('mousedown', (e) => {
    if(activeTool !== 'splash'){
      drawing = true;
      lastX = e.clientX;
      lastY = e.clientY;
    }
  });
  canvas.addEventListener('mousemove', (e) => {
    if(!drawing) return;
    ctx.lineJoin = 'round';
    ctx.lineCap = 'round';
    ctx.lineWidth = 5;

    if(activeTool === 'pen') ctx.strokeStyle = '#4da6ff';
    else if(activeTool === 'pencil') ctx.strokeStyle = '#222';
    else if(activeTool === 'eraser') ctx.strokeStyle = '#f2e7f7';

    ctx.beginPath();
    ctx.moveTo(lastX, lastY);
    ctx.lineTo(e.clientX, e.clientY);
    ctx.stroke();

    lastX = e.clientX;
    lastY = e.clientY;
  });
  canvas.addEventListener('mouseup', () => { drawing = false; });
  canvas.addEventListener('mouseout', () => { drawing = false; });

  document.body.addEventListener('click', (e) => {
    if(activeTool === 'splash' && !e.target.classList.contains('pincel') && !e.target.id.includes('redirectBtn')) {
      const splash = document.createElement('div');
      splash.className = 'splash';
      const colors = ['#ff4da6','#4da6ff','#a6ff4d','#ffd24d','#ff6f4d','#4dffdb','#ff4df2'];
      splash.style.background = colors[Math.floor(Math.random()*colors.length)];
      splash.style.left = (e.pageX - 20) + 'px';
      splash.style.top = (e.pageY - 20) + 'px';
      document.body.appendChild(splash);
      setTimeout(() => splash.remove(), 2000);
    }
  });

  window.addEventListener('resize', () => {
    const imgData = ctx.getImageData(0,0,canvas.width,canvas.height);
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    ctx.putImageData(imgData,0,0);
  });
</script>
</body>
</html>
